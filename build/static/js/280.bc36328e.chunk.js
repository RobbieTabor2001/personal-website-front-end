"use strict";(self.webpackChunkpersonal_site=self.webpackChunkpersonal_site||[]).push([[280],{280:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var o=s(791),a=s(689),n=s(337),c=s(184);const i=e=>{let{data:t,navigate:s}=e;const{_id:a,imagePath:n,itemId:i}=t,[l,r]=(0,o.useState)(""),[d,h]=(0,o.useState)(!1);(0,o.useEffect)((()=>{(async()=>{try{const e="".concat("http://localhost:4000","/api/s3/image-url/").concat(encodeURIComponent(n)),t=await fetch(e),s=await t.json();r(s.imageUrl)}catch(e){console.error("Failed to fetch image URL:",e)}})()}),[n]);return(0,c.jsx)("div",{className:"gallery-item",onClick:()=>s("/item/".concat(i)),style:{width:"100%",margin:"0 auto",display:d?"block":"none"},children:l&&(0,c.jsx)("img",{src:l,alt:"",style:{width:"100%",display:"block"},onLoad:()=>{h(!0)}})},a)},l=e=>{let{images:t}=e;const s=(0,a.s0)(),[l,r]=(0,o.useState)(200),[d,h]=(0,o.useState)(10);return(0,o.useEffect)((()=>{const e=()=>{const e=window.innerWidth;e<600?(r(100),h(1)):e>=600&&e<1e3?(r(150),h(2)):(r(200),h(3))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,c.jsx)(n.R,{items:t,columnWidth:l,columnGutter:d,render:e=>(0,c.jsx)(i,{...e,navigate:s}),overscanBy:10})};var r=s(842);const d=()=>{const e=(0,a.s0)(),[t,s]=(0,o.useState)([]);(0,o.useEffect)((()=>{(async()=>{try{const e="".concat("http://localhost:4000","/api/images");console.log(e);const t=await fetch(e);if(!t.ok)throw new Error("Network response was not ok");const o=await t.json();console.log("Fetched items:",o),s(o)}catch(e){console.error("Failed to fetch items:",e)}})()}),[]);return(0,c.jsx)(r.Z,{title:"Clothing Gallery",description:"Explore our clothing gallery",children:(0,c.jsxs)("div",{className:"clothing-gallery-page",children:[(0,c.jsx)("h1",{children:"Clothing Gallery"}),(0,c.jsx)(l,{images:t,onImageClick:t=>{e("/item/".concat(t))}})]})})}}}]);
//# sourceMappingURL=280.bc36328e.chunk.js.map